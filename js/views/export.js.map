{"version":3,"sources":["export.es6"],"names":[],"mappings":"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","file":"export.js","sourcesContent":["define(['react', 'react-bootstrap', 'ramda', 'shuttle', 'shuttle-react', 'models/application', 'utils/commons'], (React, ReactBootstrap, R, Shuttle, ShuttleReact, Application, Commons) => {\n    const prettify = (json) => JSON.stringify(JSON.parse(json), null, 3);\n\n    class ExportView extends Shuttle.React.Component {\n\n        render() {\n            const data = prettify(Application.marshall(this.props.application));\n\n            class ExportDialog extends React.Component {\n\n                constructor(params) {\n                    super(params);\n\n                    this.state = {\n                        input: null,\n                        showOverlay: null\n                    };\n                }\n\n                render() {\n                    const DOM = React.DOM;\n                    const copy = () => {\n                        this.state.input.select();\n\n                        try {\n                            if (!document.queryCommandSupported(\"copy\"))\n                                throw 'unsupported';\n\n                            document.execCommand('copy');\n                            this.setState({showOverlay: 'success'});\n\n                            document.getSelection().empty();\n                        } catch (_) {\n                            this.setState({showOverlay: 'failure'});\n                        }\n                    };\n\n                    return React.createElement(ReactBootstrap.Modal.Dialog, {bsSize: \"large\"}, React.createElement(ReactBootstrap.Panel, {\n                        header: DOM.h3({}, \"Export\"),\n                        bsStyle: 'success',\n                        style: {marginBottom: '0'}\n                    }, [\n                        React.createElement(ReactBootstrap.Collapse, {in: this.state.showOverlay == 'success'}, React.createElement(ReactBootstrap.Alert, {\n                            onDismiss: () => this.setState({showOverlay: null})\n                        }, \"Data have been copied to clipboard\")),\n                        DOM.textarea({\n                            ref: 'input',\n                            readOnly: true,\n                            style: {\n                                display: 'block',\n\n                                fontFamily: 'monospace',\n                                wordBreak: 'break-all',\n                                wordWrap: 'break-word',\n\n                                backgroundColor: '#f5f5f5',\n                                border: '1px solid #ccc',\n                                borderRadius: '4px',\n                                resize: 'none',\n                                outline: 'none',\n\n                                width: '100%',\n                                height: '70vh',\n                                overflow: 'auto'\n                            }\n                        }, data),\n                        DOM.br(),\n                        React.createElement(ReactBootstrap.ButtonGroup, {className: 'pull-right'}, [\n                            React.createElement(ReactBootstrap.Button, {onClick: copy}, [\n                                this.state.showOverlay == 'failure' && React.createElement(ReactBootstrap.Tooltip, {\n                                    className: 'in',\n                                    style: {marginLeft: '-200%'},\n                                    placement: 'left'\n                                }, \"Press CMD+C to copy\"),\n                                React.createElement(ReactBootstrap.Glyphicon, {glyph: 'copy'}),\n                                ' ',\n                                \"Copy\"\n                            ]),\n                            React.createElement(ReactBootstrap.Button, {\n                                onClick: () => {\n                                    Commons.setQueryParams(R.dissoc('modal', Commons.getQueryParams()))\n                                }\n                            }, \"Cancel\")\n                        ])\n                    ]));\n                }\n\n                componentDidMount() {\n                    this.setState({input: React.findDOMNode(this.refs.input)});\n                }\n\n                componentWillUnmount() {\n                    this.setState({input: null});\n                }\n\n            }\n\n\n            return React.createElement(ReactBootstrap.Modal, {\n                show: this.props.opened,\n                dialogComponent: ExportDialog,\n                onHide: () => {}\n            });\n        }\n\n    }\n\n    return ExportView;\n});\n"]}