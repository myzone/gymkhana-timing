{"version":3,"sources":["events.es6"],"names":[],"mappings":"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","file":"events.js","sourcesContent":["define(['react', 'react-bootstrap', 'ramda', 'shuttle', 'shuttle-react', 'moment', 'views/delete'], (React, ReactBootstrap, R, Shuttle, ShuttleReact, moment, DeleteView) => {\n    class Link2EventView extends Shuttle.React.Component {\n\n        constructor(params) {\n            super(params);\n\n            this.opened = Shuttle.ref(false);\n        }\n\n        render() {\n            const name = this.state.name;\n            const eventDate = this.state.eventDate ? this.state.eventDate.format('Do MMM YYYY') : '';\n            const eventPlace = !this.state.eventPlace ? '' : this.state.eventDate ? `, ${this.state.eventPlace}` : this.state.eventPlace;\n\n            return React.createElement(ReactBootstrap.ListGroupItem, {}, [\n                React.DOM.a({\n                    href: `#/event/${this.state.id}`,\n                    style: {\n                        opacity: name ? 1 : .4,\n                    }\n                }, name || \"Empty event name\"),\n                React.DOM.small({style: {color: 'darkgray'}}, ` @${eventDate}${eventPlace}`),\n                React.createElement(ReactBootstrap.Button, {\n                    className: 'pull-right',\n                    bsSize: 'xsmall',\n                    onClick: () => this.opened.set(true)\n                }, React.createElement(ReactBootstrap.Glyphicon, {key: 'glyph', glyph: 'trash'})),\n                React.createElement(DeleteView, {\n                    opened: this.opened,\n                    eventName: name,\n                    eventId: this.state.id,\n                    application: this.props.application\n                })\n            ]);\n        }\n    }\n\n    class EventsView extends Shuttle.React.Component {\n        render() {\n            const events = R.map(event => {\n                const configuration = event\n                    .flatMap(e => e.configuration);\n\n                return {\n                    id: event\n                        .map(event => event.id),\n                    name: configuration\n                        .map(c => c.name),\n                    eventDate: configuration\n                        .map(c => c.eventDate),\n                    eventPlace: configuration\n                        .map(c => c.eventPlace)\n                }\n            }, this.state.events);\n\n            return React.createElement(ReactBootstrap.Panel, {header: React.DOM.h4({}, \"Events\", R.isEmpty(events) && React.DOM.small({style: {opacity: .4}}, ' (empty list)'))}, [\n                React.createElement(ReactBootstrap.ListGroup, {key: 'events-list', fill: true}, [\n                    R.map(event => React.createElement(Link2EventView, {\n                        key: event.id.get(),\n                        id: event.id,\n                        name: event.name,\n                        eventDate: event.eventDate,\n                        eventPlace: event.eventPlace,\n                        application: this.props.application\n                    }), events)\n                ])\n            ]);\n        }\n    }\n\n    return EventsView;\n});\n"]}