{"version":3,"sources":["competition.es6"],"names":[],"mappings":"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","file":"competition.js","sourcesContent":["define(['react', 'react-router', 'react-bootstrap', 'ramda', 'moment', 'moment-durations', 'shuttle', 'shuttle-react', 'components/stopwatch-cell', 'utils/commons'], (React, ReactRouter, ReactBootstrap, R, moment, momentDurations, Shuttle, ShuttleReact, StopwatchCellView, Commons) => {\n    const HEATS_COUNT = 2;\n    const PENALTY_STYLES = {\n        negligible: 'default',\n        significant: 'warning',\n        critical: 'danger'\n    };\n    const PENALTIES = [{\n        name: 'CM',\n        description: 'Course miss',\n        delay: moment.duration({seconds: 0}),\n        type: 'negligible'\n    }, {\n        name: 'CT',\n        description: 'Cone touch',\n        delay: moment.duration({seconds: 1}),\n        type: 'significant'\n    }, {\n        name: 'GS',\n        description: 'Ground stand',\n        delay: moment.duration({seconds: 1}),\n        type: 'significant'\n    }, {\n        name: 'WF',\n        description: 'Wrong finish',\n        delay: moment.duration({seconds: 3}),\n        type: 'significant'\n    }, {\n        name: 'WC',\n        description: 'Wrong course',\n        delay: moment.duration({seconds: 0}),\n        type: 'critical'\n    }];\n\n    const renderDuration = duration => duration.format(\"mm:ss.SSS\", {trim: false});\n\n    class HeatView extends React.Component {\n\n        constructor(props) {\n            super(props);\n\n            this.time = Shuttle.ref(this.props.result.time);\n            this.penalties = Shuttle.ref(this.props.result.penalties);\n\n            this.heat = Shuttle.combine([this.time, this.penalties], (time, penalties) => {\n                return {\n                    id: !R.isNil(this.props.result.id) ? this.props.result.id : Commons.guid(),\n                    participant: this.props.result.participant,\n                    number: this.props.result.number,\n                    result: !R.isNil(time) || !R.isEmpty(penalties)\n                        ? {type: 'TimedResult', time: time, penalties: penalties}\n                        : {type: 'NoTimeResult'}\n                }\n            });\n\n            this.listener = (_, heat) => {\n                let heats = this.props.heats.get();\n\n                const index = R.findIndex(heat => heat.id == this.props.result.id, heats);\n                if (index >= 0) {\n                    heats = R.remove(index, 1, heats);\n                }\n\n                this.props.heats.set(R.append(heat, heats));\n            }\n        }\n\n        componentDidMount() {\n            this.heat.addListener(this.listener);\n        }\n\n        componentWillUnmount() {\n            this.heat.removeListener(this.listener);\n        }\n\n        render() {\n            return React.DOM.tbody({}, [\n                React.createElement(AdditionalHeatView1, {\n                    rowId: this.props.rowId,\n                    currentRow: this.props.currentRow,\n\n                    time: this.time,\n                    penalties: this.penalties,\n                    result: this.props.result\n                }),\n                React.createElement(AdditionalHeatView2, {\n                    rowId: this.props.rowId,\n                    currentRow: this.props.currentRow,\n\n                    time: this.time,\n                    penalties: this.penalties,\n\n                    result: this.props.result,\n\n                    heat: this.heat,\n                    heats: this.props.heats\n                })\n            ]);\n        }\n\n    }\n\n    class AdditionalHeatView1 extends Shuttle.React.Component {\n\n        render() {\n            return this.state.currentRow == this.props.rowId\n                ? this.renderSelected()\n                : this.renderNonSelected();\n        }\n\n        renderSelected() {\n            const DOM = React.DOM;\n\n            return DOM.tr({key: 'selected', className: 'info selected-heat-row'}, [\n                DOM.td({}, this.props.rowId + 1),\n                DOM.td({className: 'col-md-2'}, React.createElement(StopwatchCellView, {value: this.props.time})),\n                DOM.td({}, R.addIndex(R.map)((penalty, i) => [React.createElement(ReactBootstrap.Label, {\n                    key: i,\n                    bsStyle: PENALTY_STYLES[penalty.type],\n                    onClick: () => {\n                        this.props.penalties.set(R.remove(i, 1, this.props.result.penalties))\n                    }\n                }, [\n                    penalty.name,\n                    ' ',\n                    React.createElement(ReactBootstrap.Glyphicon, {\n                        className: 'tag-remove-btn',\n                        glyph: 'remove'\n                    })\n                ]), ' '], this.props.result.penalties)),\n                DOM.td({className: 'col-md-2'}, renderDuration(this.props.result.totalTime)),\n                DOM.td({className: 'col-md-2'}, `+${renderDuration(this.props.result.deltaTime)}`)\n            ]);\n        }\n\n        renderNonSelected() {\n            const DOM = React.DOM;\n\n            return DOM.tr({\n                key: 'non-selected',\n                onClick: () => {\n                    if (R.isNil(this.state.currentRow)) {\n                        this.props.currentRow.set(this.props.rowId);\n                    }\n                }\n            }, [\n                DOM.td({}, this.props.rowId + 1),\n                DOM.td({className: 'col-md-2'}, this.props.result.time ? renderDuration(this.props.result.time) : ''),\n                DOM.td({}, R.addIndex(R.map)((penalty, i) => [React.createElement(ReactBootstrap.Label, {\n                    key: i,\n                    bsStyle: PENALTY_STYLES[penalty.type]\n                }, penalty.name), ' '], this.props.result.penalties)),\n                DOM.td({className: 'col-md-2'}, renderDuration(this.props.result.totalTime)),\n                DOM.td({className: 'col-md-2'}, `+${renderDuration(this.props.result.deltaTime)}`)\n            ]);\n        }\n\n\n    }\n\n    class AdditionalHeatView2 extends Shuttle.React.Component {\n\n        render() {\n            return this.state.currentRow == this.props.rowId\n                ? this.renderSelected()\n                : this.renderNonSelected();\n        }\n\n        renderSelected() {\n            const DOM = React.DOM;\n\n            return DOM.tr({className: 'info selected-heat-row-additional'}, [\n                DOM.td({}, ''),\n                DOM.td({className: 'col-md-2'}, ''),\n                DOM.td({colSpan: 2}, React.createElement(ReactBootstrap.ButtonGroup, {}, R.addIndex(R.map)((penalty, i) => {\n                    return React.createElement(ReactBootstrap.OverlayTrigger, {\n                        key: `overlay-trigger-${i}`,\n                        placement: 'bottom',\n                        delayShow: 1000,\n                        overlay: React.createElement(ReactBootstrap.Tooltip, {key: `overlay-${i}`}, penalty.description)\n                    }, React.createElement(ReactBootstrap.Button, {\n                        key: `button-${i}`,\n                        bsSize: 'small',\n                        bsStyle: PENALTY_STYLES[penalty.type],\n                        onClick: () => {\n                            this.props.penalties.set(R.append(penalty, this.props.result.penalties))\n                        }\n                    }, penalty.name));\n                }, PENALTIES))),\n                DOM.td({}, React.createElement(ReactBootstrap.Button, {\n                    bsSize: 'small',\n                    onClick: () => {\n                        this.props.currentRow.set(null);\n                    }\n                }, React.createElement(ReactBootstrap.Glyphicon, {\n                    glyph: 'ok'\n                })))\n            ])\n        }\n\n        renderNonSelected() {\n            return React.DOM.tr({key: 'empty'});\n        }\n\n    }\n\n\n    class ParticipantView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const participant = this.state.participant;\n            const heats = this.state.heats;\n\n            return DOM.tr({\n                key: 'opened-participant-row-1',\n                className: `non-selected ${this.props.opened ? 'selected' : ''}`,\n                onClick: () => this.props.onToggle()\n            }, [\n                DOM.td({className: 'important middle-aligned'}, DOM.span({className: 'race-number'}, participant.number)),\n                DOM.td({className: 'middle-aligned'}, DOM.img({\n                    className: 'country',\n                    src: `http://www.geonames.org/flags/x/${participant.country}.gif`\n                })),\n                DOM.td({className: 'important middle-aligned'}, participant.name),\n                DOM.td({className: 'middle-aligned'}, participant.motorcycle),\n                DOM.td({className: 'middle-aligned'}, participant.group),\n                DOM.td({className: 'important middle-aligned'}, `${heats.length}/${HEATS_COUNT}`),\n                DOM.td({className: 'middle-aligned'}, participant.team)\n            ]);\n        }\n\n    }\n\n    class AdditionalParticipantView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n\n            this.currentRow = Shuttle.ref(this.props.currentRow);\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const participant = this.state.participant;\n            const currentRow = this.currentRow;\n            const results = this.state.results;\n\n            return DOM.tr({key: 'opened-participant-row-2'}, [\n                DOM.td({style: {padding: '0'}}, React.createElement('center', {className: 'goto-next'}, this.props.opened ? React.createElement(ReactBootstrap.Glyphicon, {\n                    onClick: () => {\n                        const heats = R.map(participant => {\n                            return {\n                                participant: participant,\n                                count: R.length(R.filter(heat => R.equals(heat.participant.get(), participant), this.state.heats))\n                            }\n                        }, R.map(ref => ref.get(), this.state.participants));\n\n                        const minHeatsCount = R.reduce(R.min, Infinity, R.map(heats => heats.count, heats));\n                        const next = R.find(participant => participant.count == minHeatsCount, heats).participant;\n\n                        this.props.onNext(next);\n                    },\n                    glyph: 'forward'\n                }) : '')),\n                DOM.td({style: {padding: '0'}, colSpan: 3}, [\n                    DOM.div({className: `non-selected-additional ${this.props.opened ? 'selected-additional' : ''}`}, React.createElement(ReactBootstrap.Table, {\n                        className: 'inner-table group-table-striped group-table-hover',\n                        responsive: true,\n                        condensed: true\n                    }, [\n                        DOM.thead({}, DOM.tr({}, [\n                            DOM.td({}, \"\"),\n                            DOM.td({}, \"Time\"),\n                            DOM.td({}, \"Penalty\"),\n                            DOM.th({}, \"Total\"),\n                            DOM.td({}, \"∆\")\n                        ])),\n                        R.addIndex(R.map)((result, i) => {\n                            return React.createElement(HeatView, {\n                                key: i,\n\n                                rowId: i,\n                                currentRow: currentRow,\n\n                                result: result,\n                                heats: this.props.heats\n                            })\n                        }, results)\n                    ]))\n                ]),\n                DOM.td({style: {padding: '0'}, colSpan: 3})\n            ]);\n        }\n\n    }\n\n    class CompetitionView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n\n            this.state.current = R.head(R.filter(participant => R.equals(participant.id, this.props.params.participantId), R.map(participant => participant.get(), this.state.participants)));\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const eventId = this.props.params.eventId;\n\n            return DOM.div({}, [\n                React.createElement(ReactBootstrap.Pager, {}, [\n                    React.createElement(ReactBootstrap.PageItem, {\n                        previous: true,\n                        href: `#event/${eventId}/registration`\n                    }, [\n                        React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-left'}), ' ', \"Registration\"\n                    ]),\n                    React.createElement(ReactBootstrap.PageItem, {href: `#event/${eventId}/competition`}, \"Competition\"),\n                    React.createElement(ReactBootstrap.PageItem, {next: true, href: `#event/${eventId}/results`}, [\n                        \"Results\", ' ', React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-right'})\n                    ])\n                ]),\n\n                React.createElement(ReactBootstrap.Table, {\n                    key: 'table',\n                    className: 'group-table-striped group-table-hover data-editable',\n                    responsive: true,\n                    hover: true\n                }, [\n\n                    R.addIndex(R.map)((participant, i) => {\n                            const opened = R.equals(this.state.current, participant.get());\n                            const heats = this.props.heats\n                                .map(heats => R.filter(heat => R.equals(heat.participant.get(), participant.get()), heats));\n\n                            const results = heats\n                                .map(heats => R.map(heat => {\n                                        if (heat.result.type == 'TimedResult')\n                                            return {\n                                                id: heat.id,\n                                                participant: heat.participant,\n                                                number: heat.number,\n                                                time: heat.result.time,\n                                                penalties: heat.result.penalties,\n                                                totalTime: R.reduce((time, delay) => time.add(delay), moment.duration(heat.result.time), R.map(penalty => penalty.delay, heat.result.penalties))\n                                            };\n\n                                        if (heat.result.type == 'NoTimeResult')\n                                            return {\n                                                id: heat.id,\n                                                participant: heat.participant,\n                                                number: heat.number,\n                                                time: null,\n                                                penalties: [/*{\n                                                 name: 'HS',\n                                                 type: 'negligible',\n                                                 delay: moment.duration(0)\n                                                 }*/],\n                                                totalTime: moment.duration({\n                                                    minutes: 59,\n                                                    seconds: 59,\n                                                    milliseconds: 999\n                                                })\n                                            };\n\n                                        throw 'undefined';\n                                    }, R.reduce((result, i) => R.append(R.find(heat => heat.number == i + 1, heats) || {\n                                            participant: participant,\n                                            number: i + 1,\n                                            result: {\n                                                type: 'NoTimeResult'\n                                            }\n                                        }, result), [], R.range(0, HEATS_COUNT)))\n                                )\n                                .map(semiResults => {\n                                    const bestHeatTime = R.reduce(R.min, moment.duration(Infinity), R.map(result => result.totalTime, semiResults));\n\n                                    return R.sortBy(result => result.number, R.map(result => {\n                                        return {\n                                            id: result.id,\n                                            time: result.time,\n                                            participant: result.participant,\n                                            number: result.number,\n                                            penalties: result.penalties,\n                                            totalTime: result.totalTime,\n                                            deltaTime: moment.duration(result.totalTime).subtract(bestHeatTime)\n                                        }\n                                    }, semiResults));\n                                });\n\n                            return DOM.tbody({key: i}, [\n                                React.createElement(ParticipantView, {\n                                    key: `main-${i}`,\n                                    opened: opened,\n                                    onToggle: () => {\n                                        this.setState({current: !opened ? participant.get() : null});\n                                    },\n                                    participant: participant,\n                                    heats: heats\n                                        .map(heats => R.filter(heat => heat.result.type == 'TimedResult', heats)),\n                                    eventId: eventId\n                                }),\n                                React.createElement(AdditionalParticipantView, {\n                                    key: `additional-${i}`,\n                                    opened: opened,\n                                    participant: participant,\n                                    heats: this.props.heats,\n                                    results: results,\n                                    participants: this.props.participants,\n                                    onNext: (next) => {\n                                        this.setState({current: next});\n                                    }\n                                })\n                            ])\n                        },\n                        this.state.participants\n                    )\n                ])\n            ]);\n        }\n\n    }\n\n    return CompetitionView;\n});\n"]}