{"version":3,"sources":["competition.es6"],"names":[],"mappings":"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","file":"competition.js","sourcesContent":["define(['react', 'react-bootstrap', 'ramda', 'shuttle', 'shuttle-react', 'components/text-cell'], (React, ReactBootstrap, R, Shuttle, ShuttleReact, TextCellView) => {\n    class ParticipantView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const participant = this.state.participant;\n\n            return DOM.tr({\n                key: 'opened-participant-row-1',\n                className: `non-selected ${this.props.opened ? 'selected' : ''}`,\n                onClick: () => this.props.onToggle()\n            }, [\n                DOM.td({className: 'important middle-aligned'}, DOM.span({className: 'race-number'}, participant.number)),\n                DOM.td({className: 'middle-aligned'}, DOM.img({\n                    className: 'country',\n                    src: `http://www.geonames.org/flags/x/${participant.country}.gif`\n                })),\n                DOM.td({className: 'important middle-aligned'}, participant.name),\n                DOM.td({className: 'middle-aligned'}, participant.motorcycle),\n                DOM.td({className: 'middle-aligned'}, participant.group),\n                DOM.td({className: 'important middle-aligned'}, \"0/1\"),\n                DOM.td({className: 'middle-aligned'}, participant.team)\n            ]);\n        }\n\n    }\n\n    class AdditionalParticipantView extends Shuttle.React.Component {\n\n        render() {\n            const DOM = React.DOM;\n\n            return DOM.tr({key: 'opened-participant-row-2'}, [\n                DOM.td({style: {padding: '0'}}),\n                DOM.td({style: {padding: '0'}, colSpan: 3}, [\n                    DOM.div({className: `non-selected-additional ${this.props.opened ? 'selected-additional' : ''}`}, React.createElement(ReactBootstrap.Table, {\n                        className: 'inner-table',\n                        responsive: true,\n                        condensed: true\n                    }, [\n                        DOM.thead({}, DOM.tr({}, [\n                            DOM.td({}, \"\"),\n                            DOM.td({}, \"Time\"),\n                            DOM.td({}, \"Penalty\"),\n                            DOM.th({}, \"Total\"),\n                            DOM.td({}, \"âˆ†\")\n                        ])),\n                        DOM.tbody({}, [\n                            DOM.tr({}, [\n                                DOM.td({}, \"1\"),\n                                DOM.td({className: 'col-md-2'}, \"1:11.15\"),\n                                DOM.td({}, [\n                                    React.createElement(ReactBootstrap.Label, {bsStyle: 'warning'}, \"Cone\")\n                                ]),\n                                DOM.td({className: 'col-md-2'}, \"1:12.15\"),\n                                DOM.td({className: 'col-md-2'}, \"0:00.00\")\n                            ]),\n                            DOM.tr({}, [\n                                DOM.td({}, \"2\"),\n                                DOM.td({className: 'col-md-2'}, \"1:11.16\"),\n                                DOM.td({}, [\n                                    React.createElement(ReactBootstrap.Label, {bsStyle: 'warning'}, \"Cone\")\n                                ]),\n                                DOM.td({className: 'col-md-2'}, \"1:12.16\"),\n                                DOM.td({className: 'col-md-2'}, \"0:00.01\")\n                            ])\n                        ])\n                    ]))\n                ]),\n                DOM.td({style: {padding: '0'}, colSpan: 3})\n            ]);\n        }\n\n    }\n\n    class CompetitionView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n\n            this.state.current = null;\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const eventId = this.props.eventId;\n\n            return DOM.div({}, [\n                React.createElement(ReactBootstrap.Pager, {}, [\n                    React.createElement(ReactBootstrap.PageItem, {\n                        previous: true,\n                        href: `#event/${eventId}/registration`\n                    }, [\n                        React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-left'}), ' ', \"Registration\"\n                    ]),\n                    React.createElement(ReactBootstrap.PageItem, {href: `#event/${eventId}/competition`}, \"Competition\"),\n                    React.createElement(ReactBootstrap.PageItem, {next: true, href: `#event/${eventId}/results`}, [\n                        \"Results\", ' ', React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-right'})\n                    ])\n                ]),\n\n                React.createElement(ReactBootstrap.Table, {\n                    key: 'table',\n                    className: 'pair-table-striped',\n                    responsive: true,\n                    hover: true\n                }, [\n                    DOM.tbody({key: 'table-body'}, [\n                        R.flatten(R.mapIndexed((participant, i) => {\n                            const opened = R.eq(this.state.current, participant.get());\n\n                            return [\n                                React.createElement(ParticipantView, {\n                                    key: `main-${i}`,\n                                    opened: opened,\n                                    onToggle: () => {\n                                        this.setState({current: !opened ? participant.get() : null});\n                                    },\n                                    participant: participant\n                                }),\n                                React.createElement(AdditionalParticipantView, {\n                                    key: `additional-${i}`,\n                                    opened: opened,\n                                    participant: participant\n                                })\n                            ]\n                        }, this.state.participants))\n                    ])\n                ])\n            ]);\n        }\n\n    }\n\n    return CompetitionView;\n});\n"]}