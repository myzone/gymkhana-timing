{"version":3,"sources":["competition.es6"],"names":[],"mappings":"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","file":"competition.js","sourcesContent":["define(['react', 'react-router', 'react-bootstrap', 'ramda', 'moment', 'shuttle', 'shuttle-react', 'components/stopwatch-cell'], (React, ReactRouter, ReactBootstrap, R, moment, Shuttle, ShuttleReact, StopwatchCellView) => {\n    const HEATS_COUNT = 2;\n    const PENALTY_STYLES = {\n        negligible: 'default',\n        significant: 'warning',\n        critical: 'danger'\n    };\n    const PENALTIES = [{\n        name: 'CM',\n        description: 'Course miss',\n        penalty: moment.duration({seconds: 0}),\n        type: 'negligible'\n    }, {\n        name: 'CT',\n        description: 'Cone touch',\n        penalty: moment.duration({seconds: 1}),\n        type: 'significant'\n    }, {\n        name: 'GS',\n        description: 'Ground stand',\n        penalty: moment.duration({seconds: 1}),\n        type: 'significant'\n    }, {\n        name: 'WF',\n        description: 'Wrong finish',\n        penalty: moment.duration({seconds: 3}),\n        type: 'significant'\n    }, {\n        name: 'WC',\n        description: 'Wrong course',\n        penalty: moment.duration({seconds: 0}),\n        type: 'critical'\n    }];\n\n    class ParticipantView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const participant = this.state.participant;\n            const heats = this.props.heats;\n\n            return DOM.tr({\n                key: 'opened-participant-row-1',\n                className: `non-selected ${this.props.opened ? 'selected' : ''}`,\n                onClick: () => this.props.onToggle()\n            }, [\n                DOM.td({className: 'important middle-aligned'}, DOM.span({className: 'race-number'}, participant.number)),\n                DOM.td({className: 'middle-aligned'}, DOM.img({\n                    className: 'country',\n                    src: `http://www.geonames.org/flags/x/${participant.country}.gif`\n                })),\n                DOM.td({className: 'important middle-aligned'}, participant.name),\n                DOM.td({className: 'middle-aligned'}, participant.motorcycle),\n                DOM.td({className: 'middle-aligned'}, participant.group),\n                DOM.td({className: 'important middle-aligned'}, `${heats.length}/${HEATS_COUNT}`),\n                DOM.td({className: 'middle-aligned'}, participant.team)\n            ]);\n        }\n\n    }\n\n    class AdditionalParticipantView extends Shuttle.React.Component {\n\n\n        constructor(props) {\n            super(props);\n\n            this.state.currentRow = null;\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const participant = this.state.participant;\n            const semiResults = R.map(heat => {\n                return {\n                    time: heat.time,\n                    penalties: heat.penalties,\n                    totalTime: R.reduce((time, delay) => time.add(delay), moment.duration(heat.time), R.map(penalty => penalty.delay, heat.penalties))\n                }\n            }, R.map(heat => heat.result({\n                onTimedResult: (time, penalties) => {\n                    return {\n                        time: time,\n                        penalties: penalties\n                    };\n                },\n                onHaventStared: () => {\n                    return {\n                        time: moment.duration({\n                            minutes: 59,\n                            seconds: 59,\n                            milliseconds: 999\n                        }),\n                        penalties: [{\n                            name: 'HS',\n                            type: 'negligible',\n                            delay: moment.duration(0)\n                        }]\n                    };\n                }\n            }), R.concat(this.props.heats, R.repeat({\n                participant: participant,\n                result: callback => callback.onHaventStared()\n            }, HEATS_COUNT - this.props.heats.length))));\n            const bestHeatTime = R.min(R.map(result => result.totalTime), semiResults);\n            const results = R.map(result => {\n                return {\n                    time: result.time,\n                    penalties: result.penalties,\n                    totalTime: result.totalTime,\n                    deltaTime: moment.duration(result.totalTime).subtract(bestHeatTime)\n                }\n            }, semiResults);\n\n            return DOM.tr({key: 'opened-participant-row-2'}, [\n                DOM.td({style: {padding: '0'}}, React.createElement('center', {className: 'goto-next'}, this.props.opened ? React.createElement(ReactBootstrap.Glyphicon, {glyph: 'forward'}) : '')),\n                DOM.td({style: {padding: '0'}, colSpan: 3}, [\n                    DOM.div({className: `non-selected-additional ${this.props.opened ? 'selected-additional' : ''}`}, React.createElement(ReactBootstrap.Table, {\n                        className: 'inner-table pair-table-striped',\n                        responsive: true,\n                        condensed: true,\n                        hover: true\n                    }, [\n                        DOM.thead({}, DOM.tr({}, [\n                            DOM.td({}, \"\"),\n                            DOM.td({}, \"Time\"),\n                            DOM.td({}, \"Penalty\"),\n                            DOM.th({}, \"Total\"),\n                            DOM.td({}, \"∆\")\n                        ])),\n                        DOM.tbody({}, [\n                            R.flatten(R.addIndex(R.map)((result, i) => this.state.currentRow == i\n                                ? [\n                                DOM.tr({key: i, className: 'info selected-heat-row'}, [\n                                    DOM.td({}, i + 1),\n                                    DOM.td({className: 'col-md-2'}, this.renderDuration(result.time)),\n                                    DOM.td({}, R.map(penalty => [React.createElement(ReactBootstrap.Label, {bsStyle: PENALTY_STYLES[penalty.type]}, [\n                                        penalty.name,\n                                        ' ',\n                                        React.createElement(ReactBootstrap.Glyphicon, {\n                                            className: 'tag-remove-btn',\n                                            glyph: 'remove'\n                                        })\n                                    ]), ' '], result.penalties)),\n                                    DOM.td({className: 'col-md-2'}, this.renderDuration(result.totalTime)),\n                                    DOM.td({className: 'col-md-2'}, `+${this.renderDuration(result.deltaTime)}`)\n                                ]),\n                                DOM.tr({key: `${i}-additional`, className: 'info selected-heat-row-additional'}, [\n                                    DOM.td({}, ''),\n                                    DOM.td({className: 'col-md-2'}, ''),\n                                    DOM.td({colSpan: 2}, React.createElement(ReactBootstrap.ButtonGroup, {}, R.map(penalty => {\n                                        return React.createElement(ReactBootstrap.OverlayTrigger, {\n                                            placement: 'bottom',\n                                            delayShow: 1000,\n                                            overlay: React.createElement(ReactBootstrap.Tooltip, {}, penalty.description)\n                                        }, React.createElement(ReactBootstrap.Button, {\n                                            bsSize: 'small',\n                                            bsStyle: PENALTY_STYLES[penalty.type]\n                                        }, penalty.name));\n                                    }, PENALTIES))),\n                                    DOM.td({}, React.createElement(ReactBootstrap.Button, {\n                                        onClick: () => {\n                                            this.setState({currentRow: null});\n                                        }\n                                    }, React.createElement(ReactBootstrap.Glyphicon, {\n                                        className: 'tag-remove-btn',\n                                        glyph: 'ok'\n                                    })))\n                                ])]\n                                : [\n                                DOM.tr({\n                                    key: i,\n                                    onClick: () => {\n                                        if(this.state.currentRow === null) {\n                                            this.setState({currentRow: i});\n                                        }\n                                    }\n                                }, [\n                                    DOM.td({}, i + 1),\n                                    DOM.td({className: 'col-md-2'}, this.renderDuration(result.time)),\n                                    DOM.td({}, R.map(penalty => [React.createElement(ReactBootstrap.Label, {bsStyle: PENALTY_STYLES[penalty.type]}, penalty.name), ' '], result.penalties)),\n                                    DOM.td({className: 'col-md-2'}, this.renderDuration(result.totalTime)),\n                                    DOM.td({className: 'col-md-2'}, `+${this.renderDuration(result.deltaTime)}`)\n                                ]),\n                                DOM.tr({})\n                            ], results))\n                        ])\n                    ]))\n                ]),\n                DOM.td({style: {padding: '0'}, colSpan: 3})\n            ])\n                ;\n        }\n\n        renderDuration(duration) {\n            return `${duration.minutes()}:${duration.seconds()}.${this.pad(duration.milliseconds(), 3).substr(0, 2)}`\n        }\n\n        pad(n, size) {\n            const s = R.repeat('0', size - 1).join('') + n;\n\n            return s.substr(s.length - size);\n        }\n\n    }\n\n    class CompetitionView extends Shuttle.React.Component {\n\n        constructor(props) {\n            super(props);\n\n            this.state.current = R.head(R.filter(participant => R.equals(participant.id, this.props.params.participantId), R.map(participant => participant.get(), this.state.participants)));\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const eventId = this.props.params.eventId;\n\n            return DOM.div({}, [\n                React.createElement(ReactBootstrap.Pager, {}, [\n                    React.createElement(ReactBootstrap.PageItem, {\n                        previous: true,\n                        href: `#event/${eventId}/registration`\n                    }, [\n                        React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-left'}), ' ', \"Registration\"\n                    ]),\n                    React.createElement(ReactBootstrap.PageItem, {href: `#event/${eventId}/competition`}, \"Competition\"),\n                    React.createElement(ReactBootstrap.PageItem, {next: true, href: `#event/${eventId}/results`}, [\n                        \"Results\", ' ', React.createElement(ReactBootstrap.Glyphicon, {glyph: 'menu-right'})\n                    ])\n                ]),\n\n                React.createElement(ReactBootstrap.Table, {\n                    key: 'table',\n                    className: 'pair-table-striped',\n                    responsive: true,\n                    hover: true\n                }, [\n                    DOM.tbody({key: 'table-body'}, [\n                        R.flatten(R.addIndex(R.map)((participant, i) => {\n                            const opened = R.equals(this.state.current, participant.get());\n                            const heats = R.filter(heat => R.equals(heat.participant.get(), participant.get()), this.state.heats);\n\n                            return [\n                                React.createElement(ParticipantView, {\n                                    key: `main-${i}`,\n                                    opened: opened,\n                                    onToggle: () => {\n                                        this.setState({current: !opened ? participant.get() : null});\n                                    },\n                                    participant: participant,\n                                    heats: heats,\n                                    eventId: eventId\n                                }),\n                                React.createElement(AdditionalParticipantView, {\n                                    key: `additional-${i}`,\n                                    opened: opened,\n                                    participant: participant,\n                                    heats: heats\n                                })\n                            ]\n                        }, this.state.participants))\n                    ])\n                ])\n            ]);\n        }\n\n    }\n\n    return CompetitionView;\n});\n"]}