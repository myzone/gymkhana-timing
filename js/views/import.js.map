{"version":3,"sources":["import.es6"],"names":[],"mappings":"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","file":"import.js","sourcesContent":["define(['react', 'react-bootstrap', 'ramda', 'shuttle', 'shuttle-react', 'models/application', 'utils/commons'], (React, ReactBootstrap, R, Shuttle, ShuttleReact, Application, Commons) => {\n    class ImportView extends Shuttle.React.Component {\n\n        constructor(params) {\n            super(params);\n\n            this.state.showOverlay = null;\n            this.state.raw = \"\";\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const raw = this.state.raw;\n\n            return React.createElement(ReactBootstrap.Modal, {\n                bsSize: \"large\",\n                show: this.props.opened,\n                onHide: () => {\n                }\n            }, [\n                React.createElement(ReactBootstrap.Panel, {\n                    header: DOM.h3({}, \"Are you ABSOLUTELY sure?\"),\n                    bsStyle: 'warning',\n                    style: {marginBottom: '0'}\n                }, [\n                    React.createElement(ReactBootstrap.Collapse, {in: this.state.showOverlay == 'success'}, React.createElement(ReactBootstrap.Alert, {\n                        onDismiss: () => this.setState({showOverlay: null})\n                    }, \"Data have been imported successfully.\")),\n\n                    DOM.p({}, [\n                        \"This action \",\n                        DOM.b({}, \"CANNOT\"),\n                        \" be undone. This may permanently replace the some your data.\"\n                    ]),\n\n                    DOM.p({}, [\n                        \"Carefully paste your dump into form below and press import\"\n                    ]),\n\n                    DOM.textarea({\n                        autoFocus: true,\n                        className: 'data-text-area',\n                        onChange: e => this.setState({raw: e.target.value})\n                    }),\n\n                    DOM.br(),\n\n                    React.createElement(ReactBootstrap.ButtonGroup, {className: 'pull-right'}, [\n                        React.createElement(ReactBootstrap.Button, {\n                            style: {opacity: '1'},\n                            bsStyle: 'warning',\n                            disabled: !raw || !Application.validate(raw),\n                            onClick: () => {\n                                const imported = Application.unmashall(raw).get();\n\n                                this.props.application.set(R.merge(this.state.application, imported));\n\n                                this.setState({showOverlay: 'success'})\n                            }\n                        }, \"Import\"),\n                        React.createElement(ReactBootstrap.Button, {\n                            onClick: () => {\n                                this.setState({showOverlay: null});\n                                Commons.setQueryParams(R.dissoc('modal', Commons.getQueryParams()))\n                            }\n                        }, \"Cancel\")\n                    ])\n                ])\n            ]);\n        }\n    }\n\n    return ImportView;\n});\n"]}