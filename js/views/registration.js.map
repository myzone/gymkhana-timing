{"version":3,"sources":["registration.es6"],"names":[],"mappings":"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","file":"registration.js","sourcesContent":["define(['react', 'react-bootstrap', 'ramda', 'shuttle', 'shuttle-react', 'components/text-cell', 'components/date-cell', 'components/select-cell', 'utils/commons'], (React, ReactBootstrap, R, Shuttle, ShuttleReact, TextCellView, DateCellView, SelectCellView, Commons) => {\n    class ParticipantView extends Shuttle.React.Component {\n\n        number;\n        country;\n        name;\n        motorcycle;\n        group;\n        birthday;\n        team;\n\n        listener;\n        participant;\n        validation;\n\n        constructor(props) {\n            super(props);\n\n            const participant = this.state.participant;\n\n            this.number = Shuttle.ref(participant.number);\n            this.country = Shuttle.ref(participant.country);\n            this.name = Shuttle.ref(participant.name);\n            this.motorcycle = Shuttle.ref(participant.motorcycle);\n            this.group = Shuttle.ref(participant.group);\n            this.birthday = Shuttle.ref(participant.birthday);\n            this.team = Shuttle.ref(participant.team);\n\n            this.listener = (_, participant) => this.props.participant.set(participant);\n            this.participant = Shuttle.combine([this.number, this.country, this.name, this.motorcycle, this.group, this.birthday, this.team], (number, country, name, motorcycle, group, birthday, team) => {\n                return {\n                    id: participant.id,\n                    number: number,\n                    country: country,\n                    name: name,\n                    motorcycle: motorcycle,\n                    group: group,\n                    birthday: birthday,\n                    team: team\n                }\n            });\n        }\n\n        componentDidMount() {\n            super.componentDidMount();\n\n            this.participant.addListener(this.listener);\n        }\n\n        componentWillUnmount() {\n            this.participant.removeListener(this.listener);\n\n            super.componentWillUnmount();\n        }\n\n        render() {\n            const DOM = React.DOM;\n            const onDelete = this.props.onDelete;\n            const validationStatus = this.state.participant.number.length != 0\n                && this.state.participant.country.length != 0\n                && this.state.participant.name.length != 0\n                && this.state.participant.motorcycle.length != 0\n                && this.state.participant.group.length != 0\n                && this.state.participant.team.length != 0;\n\n            return DOM.tr({key: 'row', className: this.props.last ? \"\" : validationStatus ? 'list-group-item-success' : 'list-group-item-danger'}, [\n                DOM.td({key: 'trash', style: {width: '24px'}}, React.createElement(ReactBootstrap.Button, {\n                    key: 'button',\n                    disabled: this.props.last,\n                    bsSize: 'xsmall',\n                    onClick: onDelete\n                }, React.createElement(ReactBootstrap.Glyphicon, {key: 'glyph', glyph: 'trash'}))),\n                DOM.td({key: 'number', style: {width: '50px'}}, React.createElement(TextCellView, {\n                    key: 'number-cell',\n                    className: 'race-number',\n                    style: {width: '50px'},\n                    maxLength: 3,\n                    value: this.number\n                })),\n                DOM.td({key: 'country', className: 'col-md-1'}, DOM.div({\n                    key: 'country-inner',\n                    style: {height: '20px'}\n                }, React.createElement(SelectCellView, {\n                    key: 'country-cell',\n                    value: this.country,\n                    items: [\n                        \"ua\",\n                        \"ru\",\n                        \"by\",\n                        \"pl\",\n                        \"md\",\n                        \"ro\"\n                    ],\n                    renderer: (item) => DOM.img({\n                        key: 'image',\n                        width: '32px',\n                        src: `http://www.geonames.org/flags/x/${item}.gif`\n                    })\n                }))),\n                DOM.td({key: 'name', className: 'col-md-4'}, React.createElement(TextCellView, {\n                    key: 'name-cell',\n                    value: this.name\n                })),\n                DOM.td({\n                    key: 'motorcycle',\n                    className: 'col-md-2'\n                }, React.createElement(TextCellView, {key: 'motorcycle-cell', value: this.motorcycle})),\n                DOM.td({key: 'group', className: 'col-md-1'}, React.createElement(TextCellView, {\n                    key: 'group-cell',\n                    value: this.group\n                })),\n                DOM.td({\n                    key: 'birthday',\n                    className: 'col-md-1'\n                }, React.createElement(DateCellView, {key: 'birthday-cell', value: this.birthday})),\n                DOM.td({key: 'team', className: 'col-md-2'}, React.createElement(TextCellView, {\n                    key: 'team-cell',\n                    value: this.team\n                })),\n                DOM.td({key: 'validation'}, this.props.last ? \"\" : validationStatus\n                    ? React.createElement(ReactBootstrap.Glyphicon, {glyph: 'ok'})\n                    : React.createElement(ReactBootstrap.Glyphicon, {glyph: 'remove'}))\n            ]);\n        }\n\n    }\n\n\n    class RegistrationView extends Shuttle.React.Component {\n\n        listener;\n        last;\n\n        constructor(props) {\n            super(props);\n\n            const generateLast = () => {\n                this.last = Shuttle.ref({\n                    id: Commons.guid(),\n                    number: \"\",\n                    country: \"ua\",\n                    name: \"\",\n                    motorcycle: \"\",\n                    group: \"\",\n                    birthday: \"2015-09-01\",\n                    team: \"\"\n                });\n                this.last.addListener(this.listener);\n            };\n\n            this.listener = (_, participant) => {\n                console.log(participant);\n\n                if (participant.number.length != 0\n                    || participant.country.length != 0\n                    || participant.name.length != 0\n                    || participant.motorcycle.length != 0\n                    || participant.group.length != 0\n                    || participant.team.length != 0) {\n\n                    const last = this.last;\n                    generateLast();\n\n                    last.removeListener(this.listener);\n                    this.props.participants.set(R.append(last, this.state.participants));\n                }\n            };\n\n            generateLast();\n        }\n\n        render() {\n            const DOM = React.DOM;\n\n            const eventId = this.props.params.eventId;\n\n            return DOM.div({key: 'registration-root'}, [\n                React.createElement(ReactBootstrap.Pager, {key: 'pager-root'}, [\n                    React.createElement(ReactBootstrap.PageItem, {\n                        key: 'previous',\n                        previous: true,\n                        href: `#event/${eventId}/configuration`\n                    }, [\n                        React.createElement(ReactBootstrap.Glyphicon, {\n                            key: 'glyph',\n                            glyph: 'menu-left'\n                        }), ' ', \"Configuration\"\n                    ]),\n                    React.createElement(ReactBootstrap.PageItem, {\n                        key: 'current',\n                        href: `#event/${eventId}/registration`\n                    }, \"Registration\"),\n                    React.createElement(ReactBootstrap.PageItem, {\n                        key: 'next',\n                        next: true,\n                        href: `#event/${eventId}/competition`\n                    }, [\n                        \"Competition\", ' ', React.createElement(ReactBootstrap.Glyphicon, {\n                            key: 'glyph',\n                            glyph: 'menu-right'\n                        })\n                    ])\n                ]),\n\n                React.createElement(ReactBootstrap.Table, {\n                    key: 'table',\n                    className: 'data-editable',\n                    responsive: true,\n                    hover: true,\n                    striped: true\n                }, [\n                    DOM.thead({key: 'table-head'}, DOM.tr({key: 'head-row'}, [\n                        DOM.td({key: 'id-header'}, \"\"),\n                        DOM.td({key: 'number-header'}, \"#\"),\n                        DOM.th({key: 'country-header'}, \"Country\"),\n                        DOM.th({key: 'name-header'}, \"Name\"),\n                        DOM.th({key: 'motorcycle-header'}, \"Motorcycle\"),\n                        DOM.th({key: 'group-header'}, \"Group\"),\n                        DOM.th({key: 'birthday-header'}, \"Birthday\"),\n                        DOM.th({key: 'team-header'}, \"Team\")\n                    ])),\n\n                    DOM.tbody({key: 'table-body'}, [\n                        R.append(React.createElement(ParticipantView, {\n                            key: this.last.get().id,\n                            participant: this.last,\n                            last: true,\n                            onDelete: () => {\n                            }\n                        }), R.map((participant) => React.createElement(ParticipantView, {\n                            key: participant.get().id,\n                            participant: participant,\n                            onDelete: () => {\n                                this.props.participants.set(R.filter((p) => p.get().id !== participant.get().id, this.state.participants))\n                            }\n                        }), this.state.participants))\n                    ])\n                ])\n            ]);\n        }\n    }\n\n    return RegistrationView;\n});\n"]}